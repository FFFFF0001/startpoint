<?xml version="1.0"?>
<project name="Work" basedir="." default="build">
	<property file="build-custom.properties"/>
	<property name="dist" location="${DistPath}" />
	<property name="Work.dir" value="${WorkDir}" />
	<property name="MsgExt.dir" value="${MsgExtDir}" />
	<property name="DBLib.dir" value="${DBLibDir}" />
	<property name="Server.dir" value="${ServerDir}" />
	<property name="ConfigData.dir" value="${ConfigDataDir}" />
	<target name="build-MsgExt" depends="">
		<ant antfile="build-MsgExt.xml" dir="${MsgExt.dir}">
		</ant>
	</target>
	<target name="build-DBLib" depends="">
		<ant antfile="build-DBLib.xml" dir="${DBLib.dir}">
		</ant>
	</target>
	<target name="build-Server" depends="">
		<ant antfile="build-Server.xml" dir="${Server.dir}">
		</ant>
	</target>
	<target name="cleandist" description="clean up">
		<delete file="${dist}/ThreeCSSIdentity.war" />
		<delete file="${dist}/ThreeCSSIdentityMsg.jar" />
	</target>
	<target name="build">
		<antcall target="cleandist" />
		<antcall target="build-MsgExt" />
		<antcall target="build-DBLib" />
		<antcall target="build-Server" />
		<mkdir dir="${dist}" />
		<!--<copy file="${Server.dir}/dist/Server.war" todir="${dist}/Server" />
		<copy file="${Server.dir}/src/custom.properties" todir="${dist}/Server" />
		<copy file="${Server.dir}/src/ApiAllMessageLib.properties" todir="${dist}/Server" />
		
		<copy file="${LoginServer.dir}/dist/LoginServer.war" todir="${dist}/LoginServer" />
		<copy file="${LoginServer.dir}/src/login.properties" todir="${dist}/LoginServer" />
		
		<copy file="${WebClient.dir}/dist/TCenter.war" todir="${dist}/TCenter" />
		<copy file="${WebClient.dir}/src/main/resources/MessageLib.properties" todir="${dist}/TCenter" />
		
		<copy file="${TCloud.dir}/csoss.sql" todir="${dist}/CenterServer" /> 
		<copydir dest="${dist}/CenterServer" src="${CenterServer.dir}/dist/CenterServer"></copydir>
		<copydir dest="${dist}/CacheWriteToDBServer" src="${CacheWriteToDBServer.dir}/dist/CacheWriteToDBServer"></copydir>
		<copydir dest="${dist}/ConfigData" src="${TCloud.dir}/ConfigData"></copydir>
		<echo file="${distpath}/NewVersion.txt" >${v}</echo>-->
	</target>
</project>